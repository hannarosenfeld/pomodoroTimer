<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href="styles.css">
        <title>pomodoroClock</title>
        <script>
         var minutes = 25
         var seconds = '00'
         var sessionLength = 25
         
         const init = () => {
             setDefaults()
         }

         function pad(val) {
             return ('00' + val).slice(-2)
         }

         function setDefaults() {
             let timeLeft = document.getElementById('time-left')
             let breakLength = document.getElementById('break-length')
             let sessionLength = document.getElementById('session-length')

             timeLeft.innerHTML = minutes + ':' + seconds
             breakLength.innerHTML = 5
             sessionLength.innerHTML = minutes
         }

         function decrementSessionLength() {
             if (sessionLength >=2) {
                 sessionLength -= 1
                 document.getElementById('time-left').innerHTML = pad(sessionLength) + ':' + seconds
                 document.getElementById('session-length').innerHTML = sessionLength
             }
         }

         function increaseSessionLength() {
             if (sessionLength >= 59) {
                 sessionLength += 1
                 document.getElementById('time-left').innerHTML = pad(sessionLength) + ':' + seconds
                 document.getElementById('session-length').innerHTML = sessionLength
             }
         }

         function countDown() {
             minutes = 24
             seconds = 59
             document.getElementById('time-left').innerHTML = minutes + ':' + seconds
             var minutes_interval = setInterval(minutesTimer, 60000)
             var seconds_interval = setInterval(secondsTimer, 1000)
             function minutesTimer(){
                 minutes -= 1
                 document.getElementById('time-left').innerHTML = minutes + ':' + seconds
             }
             function secondsTimer(){
                 seconds -= 1
                 document.getElementById('time-left').innerHTML = pad(minutes) + ':' + pad(seconds)
                 if (seconds <= 0){
                     if (minutes <= 0) {
                         clearInterval(mintues_interval)
                         clearInterval(seconds_interval)
                     }
                     seconds = 60
                 }
             }
         }
         
         window.onload = init         
        </script>
    </head>
    <body>
        <div id="pomodoro-clock">
            <div id="break-box">
                <div id="break-label">Break Length</div>
                <div id="break-length"></div>
                <button id="break-decrement">-</button>
                <button id="break-increment">+</button>
            </div>
            <div id="session-box">
                <div id="session-label">Session Length</div>
                <div id="session-length"></div>
                <button id="session-decrement" onclick="decrementSessionLength()">-</button>
                <button id="session-increment">+</button>
            </div>
            <div id="timer-box">
                <div id="timer-label">Session</div>
                <div id="time-left"></div>
                <div id="start_stop">
                    <button id="start" onclick="countDown()">start</button>
                    <button id="stop">stop</button>
                    <button id="reset">reset</div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
    </body>
</html>
